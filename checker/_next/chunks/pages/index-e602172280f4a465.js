(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(239)}])},239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(5893),s=n(9008),i=n(9726),r=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"nftId","type":"uint256"},{"indexed":false,"internalType":"address","name":"wallet","type":"address"}],"name":"DEFIBASKET_CREATE","type":"event"},{"anonymous":false,"inputs":[],"name":"DEFIBASKET_DEPOSIT","type":"event"},{"anonymous":false,"inputs":[],"name":"DEFIBASKET_EDIT","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256[]","name":"outputAmounts","type":"uint256[]"},{"indexed":false,"internalType":"uint256","name":"ethAmount","type":"uint256"}],"name":"DEFIBASKET_WITHDRAW","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"internalType":"struct DBDataTypes.TokenData","name":"inputs","type":"tuple"},{"internalType":"address[]","name":"bridgeAddresses","type":"address[]"},{"internalType":"bytes[]","name":"bridgeEncodedCalls","type":"bytes[]"}],"name":"createPortfolio","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nftId","type":"uint256"},{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"internalType":"struct DBDataTypes.TokenData","name":"inputs","type":"tuple"},{"internalType":"address[]","name":"bridgeAddresses","type":"address[]"},{"internalType":"bytes[]","name":"bridgeEncodedCalls","type":"bytes[]"}],"name":"depositPortfolio","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nftId","type":"uint256"},{"internalType":"address[]","name":"bridgeAddresses","type":"address[]"},{"internalType":"bytes[]","name":"bridgeEncodedCalls","type":"bytes[]"}],"name":"editPortfolio","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nftImageURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenCounter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nftId","type":"uint256"}],"name":"walletOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"nftId","type":"uint256"},{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"internalType":"struct DBDataTypes.TokenData","name":"outputs","type":"tuple"},{"internalType":"uint256","name":"outputEthPercentage","type":"uint256"},{"internalType":"address[]","name":"bridgeAddresses","type":"address[]"},{"internalType":"bytes[]","name":"bridgeEncodedCalls","type":"bytes[]"}],"name":"withdrawPortfolio","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),d=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"assetIn","type":"address"},{"indexed":false,"internalType":"address","name":"assetOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"INDEXPOOL_AAVEV2_DEPOSIT","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"assetIn","type":"address"},{"indexed":false,"internalType":"address","name":"assetOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"address","name":"rewardAsset","type":"address"},{"indexed":false,"internalType":"uint256","name":"rewardAmount","type":"uint256"}],"name":"INDEXPOOL_AAVEV2_WITHDRAW","type":"event"},{"inputs":[{"internalType":"address","name":"assetIn","type":"address"},{"internalType":"uint256","name":"percentageIn","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"assetOut","type":"address"},{"internalType":"uint256","name":"percentageOut","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),p=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"vaultAddress","type":"address"},{"indexed":false,"internalType":"address","name":"assetIn","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"INDEXPOOL_AUTOFARM_DEPOSIT","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"vaultAddress","type":"address"},{"indexed":false,"internalType":"address","name":"assetOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"wMaticReward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"pAutoReward","type":"uint256"}],"name":"INDEXPOOL_AUTOFARM_WITHDRAW","type":"event"},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"uint256","name":"percentageIn","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"uint256","name":"percentageOut","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),u=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"assetIn","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"amountIn","type":"uint256[]"},{"indexed":false,"internalType":"address","name":"lpToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"}],"name":"INDEXPOOL_UNISWAPV2_ADD_LIQUIDITY","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"tokens","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"amountOut","type":"uint256[]"},{"indexed":false,"internalType":"address","name":"lpToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"}],"name":"INDEXPOOL_UNISWAPV2_REMOVE_LIQUIDITY","type":"event"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"percentages","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"}],"name":"addLiquidity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256","name":"percentage","type":"uint256"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"}],"name":"removeLiquidity","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),l=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"INDEXPOOL_UNISWAPV2_SWAP","type":"event"},{"inputs":[{"internalType":"uint256","name":"amountInPercentage","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"swapTokenToToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),y=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"INDEXPOOL_WMATIC_UNWRAP","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"INDEXPOOL_WMATIC_WRAP","type":"event"},{"inputs":[{"internalType":"uint256","name":"percentageOut","type":"uint256"}],"name":"unwrap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"percentageIn","type":"uint256"}],"name":"wrap","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),o=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"poolId","type":"bytes32"},{"indexed":false,"internalType":"uint256[]","name":"amountsIn","type":"uint256[]"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"}],"name":"DEFIBASKET_BALANCER_ADD_LIQUIDITY","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"poolId","type":"bytes32"},{"indexed":false,"internalType":"address[]","name":"tokens","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"tokenAmountsOut","type":"uint256[]"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"}],"name":"DEFIBASKET_BALANCER_REMOVE_LIQUIDITY","type":"event"},{"inputs":[{"internalType":"address","name":"poolAddress","type":"address"},{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"percentages","type":"uint256[]"},{"internalType":"uint256","name":"minimumBPTout","type":"uint256"}],"name":"addLiquidity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"distributionId","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"address","name":"distributor","type":"address"},{"internalType":"uint256","name":"tokenIndex","type":"uint256"},{"internalType":"bytes32[]","name":"merkleProof","type":"bytes32[]"}],"internalType":"struct IMerkleOrchard.Claim[]","name":"claims","type":"tuple[]"},{"internalType":"address[]","name":"tokens","type":"address[]"}],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"poolAddress","type":"address"},{"internalType":"uint256","name":"percentageOut","type":"uint256"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"name":"removeLiquidity","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),m=n(6731);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,s=!1,i=void 0;try{for(var r,d=e[Symbol.iterator]();!(a=(r=d.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(p){s=!0,i=p}finally{try{a||null==d.return||d.return()}finally{if(s)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e,t){var n=[{name:"AaveV2DepositBridge",address:"0x29494C1673903e608352020CF8F545af70111Ad4",abi:d.Mt},{name:"QuickswapSwapBridge",address:"0xFA299c3f1eE9DEA789b1d94243Ab7AEeA8BD7C77",abi:l.Mt},{address:"0x89Db516B50819593f058040F781BfF9880ca81a8",name:"QuickswapLiquidityBridge",abi:u.Mt},{address:"0x4789499ed6D3c9E9b874E7E02AB8139779A51704",name:"AutofarmDepositBridge",abi:p.Mt},{address:"0x9bA04eDb13e129c19823a084c7E9988FA5e20647",name:"WMaticWrapBridge",abi:y.Mt},{address:"0x485834c8237FB22D891719143612d0fd6882C27b",name:"BalancerLiquidityBridge",abi:o.Mt}];return e.map((function(a,s){var r=n.find((function(t){return t.address===e[s]}));if(void 0===r)return{bridgeAddress:e[s],isValid:!1};var d=new i.CH(r.address,r.abi,void 0).interface.parseTransaction({data:t[s]}),p=Object.entries(d.args),u=p.slice(p.length/2).map((function(e){var t=c(e,2),n=t[0],a=t[1];return m.O$.isBigNumber(a)?{name:n,value:a.toString()}:Array.isArray(a)?{name:n,value:a.map((function(e){return m.O$.isBigNumber(e)?e.toString():e}))}:{name:n,value:a}})),l=r.name,y=d.name,o=d.value.toString();return{bridgeAddress:e[s],isValid:!0,contractName:l,functionName:y,value:o,args:u}}))},T=function(e){var t=new i.CH("0xee13C86EE4eb1EC3a05E2cc3AB70576F31666b3b",r.Mt,void 0);try{var n=t.interface.parseTransaction({data:e}),a=n.name,s=n.args,d=s.bridgeAddresses,p=s.bridgeEncodedCalls;return["createPortfolio","depositPortfolio","editPortfolio","withdrawPortfolio"].includes(a)?{name:n.name,decodedBridgeCalls:f(d,p)}:null}catch(u){return null}},x=n(7294),b=n(3153);function v(e){var t=e.decodedBridgeCalls;return console.log(t),(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,a.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bridge address"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ",children:"Function call"})]})}),(0,a.jsx)("tbody",{children:t.map((function(e,t){return(0,a.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{children:[e.isValid&&(0,a.jsx)(b.js$,{className:"h-5 w-5 text-green-500","aria-hidden":"true"}),!e.isValid&&(0,a.jsx)(b.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})]}),(0,a.jsxs)("div",{className:"ml-3 flex flex-col items-start",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:[e.isValid&&e.contractName,!e.isValid&&"Invalid/untrusted bridge"]}),(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 group-hover:text-gray-700",children:e.bridgeAddress})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-left text-gray-500",children:[(0,a.jsx)("b",{children:e.functionName}),"(",(0,a.jsx)("br",{}),e.args&&e.args.map((function(e){return(0,a.jsxs)("div",{className:"pl-3 ",children:[(0,a.jsxs)("i",{children:[e.name,": "]}),Array.isArray(e.value)&&(0,a.jsxs)(a.Fragment,{children:[" [",(0,a.jsx)("br",{}),e.value.map((function(e){return(0,a.jsxs)("div",{className:"pl-3",children:[e,",",(0,a.jsx)("br",{})]})})),"] "]}),!Array.isArray(e.value)&&e.value,(0,a.jsx)("br",{})]})})),")"]})]},t)}))})]})})})})})}function g(e){var t=e.transactionData,n=e.setTransactionData,s=null===e.decodedTransactionData&&""!==t;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"transactionData",className:"sr-only",children:"Transaction Data"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("input",{type:"text",name:"transactionData",id:"transactionData",className:"shadow-sm block w-96 sm:text-sm border-gray-300 rounded-md\n            ".concat(!s&&"focus:ring-blue-500 focus:border-blue-500","\n            ").concat(s&&"pr-10 border-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500"),onChange:function(e){return n(e.target.value)},placeholder:"Paste transaction data here..."}),s&&(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,a.jsx)(b.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),s&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:"Invalid transaction data"})]})}function h(){var e=(0,x.useState)(""),t=e[0],n=e[1],i=(0,x.useState)(null),r=i[0],d=i[1];return(0,x.useEffect)((function(){console.log(T(t)),d(T(t))}),[t]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen py-2",children:[(0,a.jsxs)(s.default,{children:[(0,a.jsx)("title",{children:"DeFi Basket Transaction Decoder"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:"flex flex-col items-center justify-center w-full flex-1 px-20 text-center gap-10",children:[(0,a.jsx)("h1",{className:"text-6xl font-bold",children:"DeFi Basket Transaction Decoder"}),(0,a.jsx)(g,{transactionData:t,setTransactionData:n,decodedTransactionData:r}),r&&(0,a.jsxs)("div",{children:["Function call: ",(0,a.jsx)("b",{children:r.name})]}),r&&(0,a.jsx)(v,{decodedBridgeCalls:r.decodedBridgeCalls})]}),(0,a.jsx)("footer",{className:"flex items-center justify-center w-full h-24 border-t",children:(0,a.jsx)("a",{className:"flex items-center justify-center",href:"https://www.defibasket.org",target:"_blank",rel:"noopener noreferrer",children:"Create your portfolio at DeFiBasket.org"})})]})}},6601:function(){}},function(e){e.O(0,[423,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);